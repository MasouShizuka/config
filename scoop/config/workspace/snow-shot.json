{
    "version": "0.2.6-beta",
    "description": "简单优雅的工具软件",
    "homepage": "https://github.com/mg-chao/snow-shot",
    "license": "GPL-3.0|Apache-2.0",
    "architecture": {
        "64bit": {
            "url": "https://github.com/mg-chao/snow-shot/releases/download/0.2.6-beta/Snow.Shot_0.2.6-beta_windows-x64-portable.zip",
            "hash": "0df08152ee1b5fc2fd63f0c945e30a9d4db84ef1be40d7d91b88d9760e6c8bf6",
            "extract_dir": "Snow Shot_0.2.6-beta_windows-x64-portable"
        }
    },
    "installer": {
        "script": [
            "ensure \"$persist_dir\" | Out-Null",
            "$targetPath = \"$env:APPDATA\\com.chao.snowshot\"",
            "$linkType = (Get-Item -Path $targetPath -ErrorAction SilentlyContinue).LinkType",
            "if (Test-Path $targetPath) {",
            "    if ($linkType -eq 'Junction') {",
            "        Remove-Item -Path $targetPath -Force",
            "    } else {",
            "        Get-ChildItem -Path $targetPath -Force | Move-Item -Destination $persist_dir -Force",
            "        Remove-Item -Path $targetPath -Force -Recurse",
            "    }",
            "}",
            "New-Item \"$env:APPDATA\\com.chao.snowshot\" -ItemType Junction -Target \"$persist_dir\" | Out-Null"
        ]
    },
    "uninstaller": {
        "script": "Remove-Item \"$env:APPDATA\\com.chao.snowshot\" -Recurse -Force -ErrorAction 'SilentlyContinue'"
    },
    "shortcuts": [
        [
            "snowshot.exe",
            "Snow Shot"
        ]
    ],
    "checkver": {
        "github": "https://github.com/mg-chao/snow-shot",
        "regex": "/releases/tag/(?<version>[\\w.-]+)"
    },
    "autoupdate": {
        "architecture": {
            "64bit": {
                "url": "https://github.com/mg-chao/snow-shot/releases/download/$version/Snow.Shot_$matchVersion_windows-x64-portable.zip",
                "extract_dir": "Snow Shot_$matchVersion_windows-x64-portable"
            }
        }
    }
}
